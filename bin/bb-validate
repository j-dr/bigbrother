from __future__ import print_function, division
import sys

import bigbrother.config as config


if __name__=="__main__":
    
    cfgfile = sys.argv[1]
    cfg = config.readCfg(cfgfile)

    mstry = config.parseConfig(cfg)
    mstry.validate(nmap=cfg['Validate']['nmap'])

    for m in mstry.metrics:

        m.visualize(plotname="{0}_{1}.png".format(cfg['Ministry']['simname'],
                                                  m.__class__.__name__)
